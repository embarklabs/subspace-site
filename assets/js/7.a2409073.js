(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{216:function(e,t,o){"use strict";o.r(t);var a=o(0),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"api"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" API")]),e._v(" "),o("h2",{attrs:{id:"general"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#general"}},[e._v("#")]),e._v(" General")]),e._v(" "),o("h3",{attrs:{id:"new-subspace-web3provider-options"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#new-subspace-web3provider-options"}},[e._v("#")]),e._v(" "),o("code",[e._v("new Subspace(web3Provider [, options])")])]),e._v(" "),o("p",[e._v("Constructor.")]),e._v(" "),o("p",[o("strong",[e._v("Parameters")])]),e._v(" "),o("ol",[o("li",[o("code",[e._v("web3Provider")]),e._v(" - "),o("code",[e._v("Object")]),e._v(": a valid web3 websockets provider.")]),e._v(" "),o("li",[o("code",[e._v("options")]),e._v(" - "),o("code",[e._v("Object")]),e._v(" (optional): Options used to initialize Subspace\n"),o("ul",[o("li",[o("code",[e._v("dbFilename")]),e._v(" - "),o("code",[e._v("String")]),e._v(" (optional): Name of the database where the information will be stored (default "),o("code",[e._v("'subspace.db'")]),e._v(")")]),e._v(" "),o("li",[o("code",[e._v("callInterval")]),e._v(" - "),o("code",[e._v("Number")]),e._v(" (optional): - Interval of time in milliseconds to query a contract/address to determine changes in state or balance (default: "),o("code",[e._v("undefined")]),e._v(". Obtains data every block).")])])])]),e._v(" "),o("h3",{attrs:{id:"init"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#init"}},[e._v("#")]),e._v(" "),o("code",[e._v("init()")])]),e._v(" "),o("p",[e._v("Initializes "),o("strong",[e._v("Subspace")])]),e._v(" "),o("p",[o("strong",[e._v("Returns")]),e._v(" "),o("code",[e._v("Promise")]),e._v(" that once it's resolved, will mean that "),o("strong",[e._v("Subspace")]),e._v(" is available to use")]),e._v(" "),o("h3",{attrs:{id:"close"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#close"}},[e._v("#")]),e._v(" "),o("code",[e._v("close()")])]),e._v(" "),o("p",[e._v("Dispose and perform the cleanup necessary to remove the internal subscriptions and interval timers created by "),o("strong",[e._v("Subspace")]),e._v(" during its normal execution.")]),e._v(" "),o("h3",{attrs:{id:"contract-instance-abi-address"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#contract-instance-abi-address"}},[e._v("#")]),e._v(" "),o("code",[e._v("contract(instance|{abi,address})")])]),e._v(" "),o("p",[e._v("Adds a "),o("code",[e._v("track")]),e._v(" method to the web3 contract objects. You can obtain this functionality by passing a "),o("code",[e._v("web3.eth.Contract")]),e._v(" instance, or the "),o("code",[e._v("abi")]),e._v(" and "),o("code",[e._v("address")]),e._v(" of your contract")]),e._v(" "),o("p",[o("strong",[e._v("Returns")]),e._v(" "),o("code",[e._v("web3.eth.Contract")]),e._v(" object enhanced with "),o("code",[e._v(".track()")]),e._v(" functions for methods and events.")]),e._v(" "),o("h2",{attrs:{id:"contract-methods"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#contract-methods"}},[e._v("#")]),e._v(" Contract methods")]),e._v(" "),o("h3",{attrs:{id:"mycontract-events-myevent-track-options"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mycontract-events-myevent-track-options"}},[e._v("#")]),e._v(" "),o("code",[e._v("myContract.events.MyEvent.track([options])")])]),e._v(" "),o("p",[e._v("Track a contract event.")]),e._v(" "),o("p",[o("strong",[e._v("Parameters")])]),e._v(" "),o("ol",[o("li",[o("code",[e._v("options")]),e._v(" - "),o("code",[e._v("Object")]),e._v(" (optional): web3 filter options object to limit the number of events based on a block number range, or indexed filters\n"),o("ul",[o("li",[o("code",[e._v("filter")]),e._v(" - "),o("code",[e._v("Object")]),e._v(" (optional): Lets you filter events by indexed parameters, e.g. "),o("code",[e._v("{filter: {myNumber: [12,13]}}")]),e._v(" means all events where "),o("code",[e._v('"myNumber"')]),e._v(" is "),o("code",[e._v("12")]),e._v(" or "),o("code",[e._v("13")]),e._v(".")]),e._v(" "),o("li",[o("code",[e._v("fromBlock")]),e._v(" - "),o("code",[e._v("Number")]),e._v(" (optional): The block number from which to get events on.")]),e._v(" "),o("li",[o("code",[e._v("toBlock")]),e._v(" - "),o("code",[e._v("Number")]),e._v(" (optional): The block number to get events up to (Defaults to "),o("code",[e._v('"latest"')]),e._v(")")]),e._v(" "),o("li",[o("code",[e._v("topics")]),e._v(" - "),o("code",[e._v("Array")]),e._v(" (optional): This allows you to manually set the topics for the event filter. If given the filter property and event signature, ("),o("code",[e._v("topic[0]")]),e._v(") will not be set automatically.")])])])]),e._v(" "),o("p",[o("strong",[e._v("Returns")]),e._v(" "),o("code",[e._v("RxJS Observable")]),e._v(" which will stream the event "),o("code",[e._v("returnValues")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"mycontract-methods-mymethod-param1-track-calloptions"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mycontract-methods-mymethod-param1-track-calloptions"}},[e._v("#")]),e._v(" "),o("code",[e._v("myContract.methods.myMethod([param1[, ...]]).track([callOptions])")])]),e._v(" "),o("p",[e._v("Track a constant function / contract state variable on each block mined, or depending on the "),o("code",[e._v("callInterval")]),e._v(" option used during "),o("strong",[e._v("Subspace")]),e._v(" initialization.")]),e._v(" "),o("p",[o("strong",[e._v("Parameters")])]),e._v(" "),o("ol",[o("li",[o("code",[e._v("callOptions")]),e._v(" - "),o("code",[e._v("Object")]),e._v(" (optional): The options used for calling.\n"),o("ul",[o("li",[o("code",[e._v("from")]),e._v(" - "),o("code",[e._v("String")]),e._v(" (optional): The address the call “transaction” should be made from.")]),e._v(" "),o("li",[o("code",[e._v("gasPrice")]),e._v(" - "),o("code",[e._v("String")]),e._v(" (optional): The gas price in wei to use for this call “transaction”.")]),e._v(" "),o("li",[o("code",[e._v("gas")]),e._v(" - "),o("code",[e._v("Number")]),e._v(" (optional): The maximum gas provided for this call “transaction” (gas limit).")])])])]),e._v(" "),o("p",[o("strong",[e._v("Returns")]),e._v(" "),o("code",[e._v("RxJS Observable")]),e._v(" which will stream the function / variable values. Data type will depend on the contract function invoked.")]),e._v(" "),o("h3",{attrs:{id:"mycontract-trackbalance-address-tokenaddress"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mycontract-trackbalance-address-tokenaddress"}},[e._v("#")]),e._v(" "),o("code",[e._v("myContract.trackBalance(address [, tokenAddress])")])]),e._v(" "),o("p",[e._v("Track a contract's balance changes for an address on each block mined, or depending on the "),o("code",[e._v("callInterval")]),e._v(" option used during "),o("strong",[e._v("Subspace")]),e._v(" initialization.")]),e._v(" "),o("p",[o("strong",[e._v("Parameters")])]),e._v(" "),o("ol",[o("li",[o("code",[e._v("address")]),e._v(" - "),o("code",[e._v("String")]),e._v(": The address to get the balance of.")]),e._v(" "),o("li",[o("code",[e._v("tokenAddress")]),e._v(" - "),o("code",[e._v("String")]),e._v(" (optional): If you want to track the balance for an ERC20 contract, here you can specify the token address. Otherwise, Only ETH balances will be returned.")])]),e._v(" "),o("p",[o("strong",[e._v("Returns")]),e._v(" "),o("code",[e._v("RxJS Observable")]),e._v(" which will stream a string containing the address balance.")]),e._v(" "),o("h2",{attrs:{id:"low-level-api-for-data-tracking"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#low-level-api-for-data-tracking"}},[e._v("#")]),e._v(" Low level API for data tracking")]),e._v(" "),o("p",[e._v("These are used in case you don't want to decorate your web3 contract objects, or if you want to track the balance for an specific address.")]),e._v(" "),o("h3",{attrs:{id:"trackevent-contractobject-eventname-options"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#trackevent-contractobject-eventname-options"}},[e._v("#")]),e._v(" "),o("code",[e._v("trackEvent(contractObject, eventName [, options])")])]),e._v(" "),o("p",[e._v("Track a contract event.")]),e._v(" "),o("p",[o("strong",[e._v("Parameters")])]),e._v(" "),o("ol",[o("li",[o("code",[e._v("contractObject")]),e._v(" - "),o("code",[e._v("web3.eth.Contract")]),e._v(": An already initialized contract object pointing to an address and containing a valid ABI.")]),e._v(" "),o("li",[o("code",[e._v("eventName")]),e._v(" - "),o("code",[e._v("String")]),e._v(": The name of the event to subscribe.")]),e._v(" "),o("li",[o("code",[e._v("options")]),e._v(" - "),o("code",[e._v("Object")]),e._v(" (optional): web3 filter options object to limit the number of events based on a block number range, or indexed filters\n"),o("ul",[o("li",[o("code",[e._v("filter")]),e._v(" - "),o("code",[e._v("Object")]),e._v(" (optional): Lets you filter events by indexed parameters, e.g. "),o("code",[e._v("{filter: {myNumber: [12,13]}}")]),e._v(" means all events where "),o("code",[e._v('"myNumber"')]),e._v(" is "),o("code",[e._v("12")]),e._v(" or "),o("code",[e._v("13")]),e._v(".")]),e._v(" "),o("li",[o("code",[e._v("fromBlock")]),e._v(" - "),o("code",[e._v("Number")]),e._v(" (optional): The block number from which to get events on.")]),e._v(" "),o("li",[o("code",[e._v("toBlock")]),e._v(" - "),o("code",[e._v("Number")]),e._v(" (optional): The block number to get events up to (Defaults to "),o("code",[e._v('"latest"')]),e._v(")")]),e._v(" "),o("li",[o("code",[e._v("topics")]),e._v(" - "),o("code",[e._v("Array")]),e._v(" (optional): This allows you to manually set the topics for the event filter. If given the filter property and event signature, ("),o("code",[e._v("topic[0]")]),e._v(") will not be set automatically.")])])])]),e._v(" "),o("p",[o("strong",[e._v("Returns")]),e._v(" "),o("code",[e._v("RxJS Observable")]),e._v(" which will stream the event "),o("code",[e._v("returnValues")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"trackproperty-contractobject-functionname-functionargs-calloptions"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#trackproperty-contractobject-functionname-functionargs-calloptions"}},[e._v("#")]),e._v(" "),o("code",[e._v("trackProperty(contractObject, functionName [, functionArgs] [, callOptions])")])]),e._v(" "),o("p",[e._v("Track a constant function / contract state variable on each block mined, or depending on the "),o("code",[e._v("callInterval")]),e._v(" option used during "),o("strong",[e._v("Subspace")]),e._v(" initialization.")]),e._v(" "),o("p",[o("strong",[e._v("Parameters")])]),e._v(" "),o("ol",[o("li",[o("code",[e._v("contractObject")]),e._v(" - "),o("code",[e._v("web3.eth.Contract")]),e._v(": An already initialized contract object pointing to an address and containing a valid ABI.")]),e._v(" "),o("li",[o("code",[e._v("functionName")]),e._v(" - "),o("code",[e._v("String")]),e._v(": Name of the function or variable whose values will be tracked.")]),e._v(" "),o("li",[o("code",[e._v("functionArgs")]),e._v(" - "),o("code",[e._v("Array")]),e._v(" (optional): Array of arguments that the tracked function receives")]),e._v(" "),o("li",[o("code",[e._v("callOptions")]),e._v(" - "),o("code",[e._v("Object")]),e._v(" (optional): The options used for calling.\n"),o("ul",[o("li",[o("code",[e._v("from")]),e._v(" - "),o("code",[e._v("String")]),e._v(" (optional): The address the call “transaction” should be made from.")]),e._v(" "),o("li",[o("code",[e._v("gasPrice")]),e._v(" - "),o("code",[e._v("String")]),e._v(" (optional): The gas price in wei to use for this call “transaction”.")]),e._v(" "),o("li",[o("code",[e._v("gas")]),e._v(" - "),o("code",[e._v("Number")]),e._v(" (optional): The maximum gas provided for this call “transaction” (gas limit).")])])])]),e._v(" "),o("p",[o("strong",[e._v("Returns")]),e._v(" "),o("code",[e._v("RxJS Observable")]),e._v(" which will stream the function / variable values. Data type will depend on the contract function invoked.")]),e._v(" "),o("h3",{attrs:{id:"trackbalance-address-tokenaddress"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#trackbalance-address-tokenaddress"}},[e._v("#")]),e._v(" "),o("code",[e._v("trackBalance(address [, tokenAddress])")])]),e._v(" "),o("p",[e._v("Track balance changes for an address on each block mined, or depending on the "),o("code",[e._v("callInterval")]),e._v(" option used during "),o("strong",[e._v("Subspace")]),e._v(" initialization.")]),e._v(" "),o("p",[o("strong",[e._v("Parameters")])]),e._v(" "),o("ol",[o("li",[o("code",[e._v("address")]),e._v(" - "),o("code",[e._v("String")]),e._v(": The address to get the balance of.")]),e._v(" "),o("li",[o("code",[e._v("tokenAddress")]),e._v(" - "),o("code",[e._v("String")]),e._v(" (optional): If you want to track the balance for an ERC20 contract, here you can specify the token address. Otherwise, Only ETH balances will be returned.")])]),e._v(" "),o("p",[o("strong",[e._v("Returns")]),e._v(" "),o("code",[e._v("RxJS Observable")]),e._v(" which will stream a string containing the address balance.")]),e._v(" "),o("h3",{attrs:{id:"tracklogs-options-abi"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#tracklogs-options-abi"}},[e._v("#")]),e._v(" "),o("code",[e._v("trackLogs(options [, abi])")])]),e._v(" "),o("p",[e._v("Tracks incoming logs, filtered by the given options.")]),e._v(" "),o("p",[o("strong",[e._v("Parameters")])]),e._v(" "),o("ol",[o("li",[o("code",[e._v("options")]),e._v(" - "),o("code",[e._v("Object")]),e._v(" (optional): web3 filter options object to limit the number of logs\n"),o("ul",[o("li",[o("code",[e._v("address")]),e._v(" - "),o("code",[e._v("String|Array")]),e._v(" (optional): An address or a list of addresses to only get logs from particular account(s).")]),e._v(" "),o("li",[o("code",[e._v("fromBlock")]),e._v(" - "),o("code",[e._v("Number")]),e._v(" (optional): The block number from which to get events on.")]),e._v(" "),o("li",[o("code",[e._v("topics")]),e._v(" - "),o("code",[e._v("Array")]),e._v(" (optional): An array of values which must each appear in the log entries. The order is important, if you want to leave topics out use null, e.g. [null, '0x00...']. You can also pass another array for each topic with options for that topic e.g. [null, ['option1', 'option2']].")])])]),e._v(" "),o("li",[o("code",[e._v("abi")]),e._v(" - "),o("code",[e._v("Array")]),e._v(" (optional): Array containing the ABI for the inputs of the logs received. It will automatically decode the logs using this ABI instead of returning the hexadecimal data.")])]),e._v(" "),o("p",[o("strong",[e._v("Returns")]),e._v(" "),o("code",[e._v("RxJS Observable")]),e._v(" which will stream the logs. If the inputs ABI is included in the call, the logs will be automatically decoded.")])])}),[],!1,null,null,null);t.default=n.exports}}]);